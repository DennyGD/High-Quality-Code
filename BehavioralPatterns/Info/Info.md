#   Поведенчески шаблони за дизайн

*   Занимават се с комуникацията между отделните обекти. 

*   Популярни шаблони от този тип: Chain of responsibility, Command, Interpreter, Observer, Memento, Specification, State, Strategy,
Template.

    ## Chain of responsibility
    
    *   Клиентът подава команда (заявка) към даден обект. Ако този обект не може да изпълни това, което се иска от него, то той 
    предава заявката към следващия във веригата. Всеки обект от тази верига знае само за следващия. Клиентът знае само за първия,
    като не го интересува кой ще изпълни заявката му, стига тя да бъде изпълнена.
    
    *   Exception handling-ът работи на сходен принцип, макар че не имплементира директно Chain of responsibility.
    
    *   Конкретен пример би могъл да бъде разгледан в проект ChainOfResponsibility. Целта му е оценяване на ръцете в покера.
    Клиентът извиква инстанция на RoyalFlush, а ако ръката не е Royal flush, то се извиква следващия във веригата, докато не се
    намери отговор. Започва се от най-високата ръка (Royal flush), тъй като е възможно висока ръка да отговаря и на изискванията
    за някоя по-ниска. 

    ## Specification
    
    *   Използва се, когато се търси лесно добавяне и комбиниране на бизнес правила. Особено подходящ е, когато не всички такива
    правила са ясни още в самото начало или пък когато те често се променят.
    
    *   Конкретен пример би могъл да бъде разгледан в проект Specification. Дефиницията на спецификации (правила) започва в 
    ISpecification интерфейса. Според него всяка спецификация трябва да имплементира четири метода: And, Or, Not и IsSatisfiedBy.
    Абстрактният клас CompositeSpecification имплементира този интерфейс, като оставя на "децата си" логиката на метода IsSatisfiedBy.
    Класовете And/Or/NotSpecification наследяват CompositeSpecification. Важно е да се отбележи, че те не съдържат конкретна бизнес
    логика в себе си, а се използват за chaining.  Всъщност, още един клас наследява CompositeSpecification и това е 
    ExpressionSpecification. Тъй като в конкретния случай се цели използването на бизнес правила в комбинация с LINQ заявки, то
    при инстанцирането си той приема параметър от тип Func.
        
    ##  State

    *   Използва се, когато поведението на даден обект се променя при смяна на състоянието му. Чрез този шаблон добавянето на ново
    състояние е лесно, а в същото време се намалява употребата на условни конструкции. Всяко състояние е отделен клас. Клиентът
    използва обекта (context), без да знае и да се интересува от състоянията. Обектът (context) "взима" поведението си, делегирайки
    правата за изпълнението му на текущото състояние. 

    *   Конкретен пример би могъл да бъде разгледан в проект State. Ролята на контекст се играе от класа Human. Поведението, което
    се променя в зависимост от състоянието, е включено в метода Live. При инстанциране на Human, скрито от клиента, се задава 
    начално състояние. Всички състояния наследяват абстрактния клас State. Те пазят в себе си инстанция на Human и ръководят 
    поведението, съдържащо се в Live().

    ##  Strategy

    *   Позволява използването на набор от алгоритми, които са взаимозаменяеми. В същото време дава възможност решението за избор
    на конкретен алгоритъм да се вземе runtime.

    *   Диаграмата на този шаблон силно наподобява тази на State шаблона. Въпреки това, двата са много различни. При Strategy
    клиентът е наясно с възможностите, които има и може да избира, докато при State състоянията са скрити от него.

    *   Конкретен пример би могъл да бъде разгледан в проект Strategy. Ролята на контекст се играе от класа DeliveryPerson. Интерфейсът
    IDeliver дефинира стратегията, а конкретните стратегии го имплементират. При инстанциране на DeliveryPerson като параметър се
    подава и една от конкретните стратегии (Вместо в конструктора, изборът на стратегия може да се случва и при извикване на метода.).
    

**Забележка:** *Поради факта, че основната цел е упражняване на шаблоните за дизайн, класовете, в по-голямата си част, не съдържат
валидация.*